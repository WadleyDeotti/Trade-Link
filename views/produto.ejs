<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title><%= produto ? produto.nome_produto + ' - TradeLink' : 'Produto - TradeLink' %></title>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="/css/produto.css">
    
</head>
<body>
    <div class="dashboard-container">
        <div class="sidebar">
            <div class="logo">
                <img src="/fornecedores/logo.png" alt="TradeLink">
            </div>
            <nav>
                <ul>
                    <li><a href="dashboard"><i class="fas fa-tachometer-alt"></i> Dashboard</a></li>
                    <li><a href="fornecedores"><i class="fas fa-user"></i> Perfil</a></li>
                    <li><a href="pedidos"><i class="fas fa-file-invoice"></i> Pedidos/Vendas</a></li>
                    <li><a href="historico"><i class="fas fa-history"></i> Histórico</a></li>
                    <li><a href="mensagens"><i class="fas fa-envelope"></i> Mensagens</a></li>
                    <li class="active"><a href="produto"><i class="fas fa-box"></i> Produtos</a></li>
                    <li><a href="categoria"><i class="fas fa-tags"></i> Categorias</a></li>
                    <li><a href="configuracoes"><i class="fas fa-cog"></i> Configurações</a></li>
                </ul>
            </nav>
        </div>

        <div class="main-content">
            <header>
                <h1><i class="fas fa-box"></i> Produto</h1>
                <div class="user-info">
                    <span>TradeLink</span>
                    <img src="/fornecedores/profile.jpg" alt="Usuário">
                </div>
            </header>

            <div class="content">

                <div class="container">
                    
                    <% if (produto) { %>
                    
                    <nav class="breadcrumbs">Início &gt; Eletrônicos &gt; Áudio &gt; Fones de ouvido</nav>

                    <section class="product">
                        <div class="gallery">
                            <div class="main-img" id="mainImg">
                                <img src="https://via.placeholder.com/480x420?text=<%= produto.nome_produto %>" alt="Imagem do produto" style="max-width:100%;max-height:100%;object-fit:contain">
                            </div>
                            <div class="thumbs" id="thumbs">
                                <img src="https://via.placeholder.com/100?text=1" data-large="https://via.placeholder.com/480x420?text=1" alt="miniatura 1">
                                <img src="https://via.placeholder.com/100?text=2" data-large="https://via.placeholder.com/480x420?text=2" alt="miniatura 2">
                                <img src="https://via.placeholder.com/100?text=3" data-large="https://via.placeholder.com/480x420?text=3" alt="miniatura 3">
                                <img src="https://via.placeholder.com/100?text=4" data-large="https://via.placeholder.com/480x420?text=4" alt="miniatura 4">
                            </div>
                        </div>

                        <div class="details">
                            <div class="title"><%= produto.nome_produto %></div> 
                            <div class="meta">
                                <div class="rating">★★★★☆</div>
                                <div class="reviews-count">(<%= avaliacoes.length %> avaliações)</div> 
                                <div class="seller">Vendido por <%= produto.nome_fornecedor %></div>
                            </div>

                            <div class="price">R$ <%= parseFloat(produto.preco).toFixed(2).replace('.', ',') %></div> 

                            <div style="margin-top:14px;color:var(--muted);font-size:14px">Opções de compra e formas de entrega estão disponíveis no site, sem funcionalidade de compra nesta demo.</div>
                        </div>

                        <aside class="side">
                            <div class="info">
                                <strong>Disponibilidade:</strong> 
                                <%= produto.disponivel ? 'Em estoque' : 'Indisponível' %>
                            </div>
                            <div class="info"><strong>Frete:</strong> Consulte opções de entrega</div>
                            <div class="info"><strong>Garantia:</strong> 12 meses</div>
                            <hr style="border:none;border-top:1px solid #eee;margin:12px 0">
                            <div style="font-size:13px;color:var(--muted)"><strong>Observação:</strong> Esta página é uma demonstração visual — não há botão de compra.</div>
                        </aside>
                    </section>

                    <section class="section" style="margin-top:10px">
                        <h3>Descrição do produto</h3>
                        
                        <p><%= produto.descricao %></p> 
                        
                        <ul>
                            <% caracteristicas.forEach(function(c) { %>
                                <li><%= c.texto_caracteristica %></li>
                            <% }); %>
                        </ul>
                    </section>
                    
                    <% } else { %>
                    <div class="alert alert-info" style="margin-top: 50px; padding: 20px; border: 1px solid #ddd; border-radius: 5px;">
                        <h2>Catálogo de Produtos</h2>
                        <p>Nenhum produto selecionado. Por favor, acesse a página de catálogo completo ou use a URL <code>/produto/ID</code> para ver detalhes.</p>
                    </div>
                    <% } %>

                    <section class="section reviews">
                        <h3>Avaliações de clientes</h3>
                        <div class="review">
                            <div style="font-weight:600">João S. — ★★★★☆</div>
                            <p>Som muito bom e bateria duradoura. O cancelamento de ruído funciona bem em ambientes ruidosos.</p>
                        </div>
                        <div class="review">
                            <div style="font-weight:600">Mariana P. — ★★★☆☆</div>
                            <p>Confortáveis, mas a montagem poderia ser mais robusta.</p>
                        </div>
                    </section>

                    <section class="section">
                        <h3>Produtos relacionados</h3>
                        <div class="related">
                            <div class="card">
                                <img src="https://via.placeholder.com/140?text=A" alt="rel1" style="width:100%;height:90px;object-fit:cover;margin-bottom:8px">
                                <div style="font-size:14px;font-weight:600">Fone Modelo A</div>
                                <div style="color:var(--muted);font-size:13px">R$ 199,90</div>
                            </div>
                            <div class="card">
                                <img src="https://via.placeholder.com/140?text=B" alt="rel2" style="width:100%;height:90px;object-fit:cover;margin-bottom:8px">
                                <div style="font-size:14px;font-weight:600">Fone Modelo B</div>
                                <div style="color:var(--muted);font-size:13px">R$ 299,90</div>
                            </div>
                            <div class="card">
                                <img src="https://via.placeholder.com/140?text=C" alt="rel3" style="width:100%;height:90px;object-fit:cover;margin-bottom:8px">
                                <div style="font-size:14px;font-weight:600">Fone Modelo C</div>
                                <div style="color:var(--muted);font-size:13px">R$ 159,90</div>
                            </div>
                        </div>
                    </section>

                </div>
            </div>
        </div>
    </div>

    <script src="/JS/produto.js" defer></script>
</body>
</html>